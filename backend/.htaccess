RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule . index.php [L]

SetEnvIf Origin "^http(s)?://(.+\.)?(127.0.0.1:1234|no-idea-web.fr)$" REQUEST_ORIGIN=$0
Header always set Access-Control-Allow-Origin %{REQUEST_ORIGIN}e env=REQUEST_ORIGIN
Header always set Access-Control-Allow-Methods "GET, POST, PATCH, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization, Accept, Accept-Language, X-Authorization"
Header set Access-Control-Allow-Credentials true

<FilesMatch "^\.">
Order allow,deny
Deny from all
</FilesMatch>

<Files ~ "\.log|json|lock|phar|sql">
Order allow,deny
Deny from all
</Files>
